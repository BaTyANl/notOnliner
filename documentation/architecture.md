# Архитектура проекта DustSucker Shop

## Часть 1. Проектирование архитектуры («To Be»)

### 1. Определение типа приложения

DustSucker Shop представляет собой кроссплатформенное  клиент-серверное приложение, включающее:

- **Backend** – API на C# для обработки запросов и взаимодействие с базой данных SQLite.
- **Frontend** – Десктопное приложение на QML, Мобильное приложение на Cotlin.

### 2. Стратегия развёртывания

- **Backend**: контейнеризация с Docker, использование VPS, база данных SQLite, деплой на NGINX. [Домен](http://dustsucker.tonitrusbn.ru/index.html).
- **Frontend**: разрабатывается на QML и Cotlin. Деплой на docker и NGINX.

### 3. Обоснование выбора технологий

#### Backend:

#### Frontend(desktop):

#### Frontend(mobile):

### 4. Показатели качества

- **Производительность** – асинхронные операции, кэширование, клиентская оптимизация.
- **Адаптивность** – кроссплатформенность.
- **Безопасность** – JWT-аутентификация, защищённые соединения.
- **Надёжность** – логирование и обработка ошибок.

### 5. Реализация сквозной функциональности

- **Backend**: JWT-аутентификация, кэширование, логирование и обработка ошибок, валидация данных.
- **Frontend**: работа с API, обработка ошибок, управление состоянием приложения, логирование и обработка ошибок.
  
### 6. Структурная схема приложения

  ![ToBe architecture](https://github.com/BaTyANl/notOnliner/blob/main/documentation/images/Architecture%20ToBe.png)
  
## Часть 2. Анализ архитектуры («As Is»)

### 1. Анализ текущей структуры кода

- **Backend**:
  - **Controllers** - маршрутизация приложения, доступ к конечным точкам API.
  - **ServiceLayer** - уровень сервисов, реализующие доступ к модели данных или логику работы с другими сервисами.
  - **BizLogic** - уровень бизнес логики, реализующий наиболее сложную функциональность серверной части.
  - **DataLayer** - модели, которые строят основную структуру приложения.
  - **ViewModels** - модели представления, который служат мостом между уровнем представления и уровнем модели.
  - **Configuration** - основные настройки приложения.
    
- **Frontend(desktop)**:
  - **Configurations**
  - **Custom elements**
  - **Page elements**
  - **Slot-signal models**
  - **API interaction level**

- **Frontend(mobile)**: отсутствует.

 - Архитектура AsIs

![AsIs architecture](https://github.com/BaTyANl/notOnliner/blob/main/documentation/images/Architecture%20AsIs.png)

 - Диаграмма классов API V1

![CD1](https://github.com/BaTyANl/notOnliner/blob/main/documentation/images/classDiagramV1.png)

 - Диаграмма классов API V2

![CD2](https://github.com/BaTyANl/notOnliner/blob/main/documentation/images/classDiagramV2.png)

## Часть 3. Сравнение и рефакторинг

### 1. Сравнение «To Be» и «As Is»

- Архитектурное видение включает чёткое разделение backend и frontend.
- В текущей реализации присутствуют ключевые модули, но отсутствует связь между клиентом и слоем представления, а так же возможны некоторые улучшения.

### 2. Выявленные отличия

- Необходимо связать клиента и слой представления.
- Необходимо доработать архитектуру frontend desktop, внедрив лучшие практики проектирования.
- Необходимо реализовать frontend mobile.
  
### 3. Пути улучшения архитектуры

- Оптимизация API взаимодействия между backend и frontend.
- Автоматизированное тестирование и CI/CD для стабильности развертывания.
- Добавление документации для frontend desktop и frontend mobile.

